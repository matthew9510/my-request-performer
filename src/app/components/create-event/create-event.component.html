<mat-vertical-stepper labelPosition="bottom" #stepper linear>
  <mat-step [stepControl]="eventDetailForm">
    <form [formGroup]="eventDetailForm" class="createEventForm">
      <ng-template matStepLabel>Event Details</ng-template>
      
      <mat-form-field>
        <mat-label>Event Title</mat-label>
        <input matInput formControlName="title">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Cover Fee</mat-label>
        <input matInput type="number" class="example-right-align" formControlName="coverFee">
        <span matPrefix>$&nbsp;</span>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Genre</mat-label>
        <input matInput formControlName="genre">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Event Url</mat-label>
        <input matInput formControlName="url">
      </mat-form-field>
    
      <mat-form-field>
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description"></textarea>
      </mat-form-field>
    
      <input #imageInput hidden="true" type="file" (change)="imageUploaded($event)" accept="image/png, image/jpeg" />
      <button mat-flat-button color="primary" (click)="imageInput.click()">Upload Image</button>

      <button mat-button matStepperNext>Next</button>
    </form>
  </mat-step>


  <mat-step [stepControl]="eventTimeAndDateForm">
    <form [formGroup]="eventTimeAndDateForm" class="createEventForm">
      <ng-template matStepLabel>Date and Time</ng-template>
      
      <mat-form-field>
        <mat-label>Choose a Date</mat-label>
        <input matInput [matDatepicker]="myDatepicker" formControlName="date" (focus)="myDatepicker.open()">
        <mat-datepicker-toggle matSuffix [for]="myDatepicker"></mat-datepicker-toggle>
        <mat-datepicker #myDatepicker></mat-datepicker>
      </mat-form-field>
    
      <mat-form-field>
        <mat-label for="EnterTime">Start Time</mat-label>
        <input type="time" matInput formControlName="startTime">
      </mat-form-field>
    
      <mat-form-field>
        <mat-label for="EndTime">End Time</mat-label>
        <input type="time" matInput formControlName="endTime">
      </mat-form-field>
    
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button matStepperNext>Next</button>
    </form>
  </mat-step>


  <mat-step [stepControl]="venueForm">
    <form [formGroup]="venueForm" class="createEventForm">
      <ng-template matStepLabel>Venue</ng-template>
      
      <mat-form-field *ngIf="!addingVenue">
        <mat-label>Venue</mat-label>
        <input matInput formControlName="id" [matAutocomplete]="auto" autocomplete="zalsdjflsadfkjfl" name="venue">
        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let venue of venues" [value]='value.id'>{{venue.name}}</mat-option>
          <mat-option class="add-venue-option">
            <button class="venue-button" mat-raised-button (click)="displayAddVenue()">
              <mat-icon>add</mat-icon>Add Venue
            </button>
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <div *ngIf="addingVenue">
        <mat-form-field>
          <mat-label>Name</mat-label>
          <input matInput formControlName="name">
        </mat-form-field>

        <mat-form-field>
          <mat-label>Address</mat-label>
          <input matInput formControlName="streetAddress">
        </mat-form-field>

        <mat-form-field>
          <mat-label>City</mat-label>
          <input matInput formControlName="city">
        </mat-form-field>

        <mat-form-field>
          <mat-label>State</mat-label>
          <input matInput formControlName="state">
        </mat-form-field>

        <mat-form-field>
          <mat-label>Postal</mat-label>
          <input matInput formControlName="postalCode">
        </mat-form-field>

        <mat-form-field>
          <mat-label>Country</mat-label>
          <input matInput formControlName="country">
        </mat-form-field>

        <mat-form-field>
          <mat-label>Website</mat-label>
          <input matInput formControlName="url">
        </mat-form-field>
      </div>

      <button mat-button matStepperPrevious>Back</button>
      <mat-card-actions align="end">
        <button mat-flat-button color="accent" [disabled]="(venueForm.invalid)" type="submit" (click)="createEvent()">Create
          Event</button>
      </mat-card-actions>   
    </form>
  </mat-step>
</mat-vertical-stepper>