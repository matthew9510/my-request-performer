<ng-container *transloco="let t; read: 'profile'">
  <div class="personal-info-container">
    <p *ngIf="performerService.isSignedUp === false">
      {{ t("personalInformationMessage") }}<br />
      {{ t("not signed up message") }}
    </p>
    <form [formGroup]="profileForm">
      <div class="centered-flex-box">
        <h2>{{ t("personalInformation") }}</h2>
        <button
          *ngIf="performerService.isSignedUp"
          mat-icon-button
          color="primary"
          (click)="makeEditable()"
        >
          <mat-icon>edit</mat-icon>
        </button>
      </div>

      <mat-form-field appearance="fill">
        <mat-label>{{ t("firstName") }}</mat-label>
        <input matInput formControlName="firstName" required />
        <mat-error>{{ t("firstNameRequiredMessage") }}</mat-error>
      </mat-form-field>

      <br />
      <mat-form-field appearance="fill">
        <mat-label>{{ t("lastName") }}</mat-label>
        <input matInput formControlName="lastName" required />
        <mat-error>{{ t("lastNameRequiredMessage") }}</mat-error>
      </mat-form-field>
      <br />
      <mat-form-field appearance="fill">
        <mat-label>{{ t("instrumentOfChoice") }}</mat-label>
        <mat-select formControlName="instrumentOfChoice">
          <mat-option value="piano">{{ t("piano") }}</mat-option>
          <mat-option value="bass">{{ t("bass") }}</mat-option>
          <mat-option value="guitar">{{ t("guitar") }}</mat-option>
          <mat-option value="drums">{{ t("drums") }}</mat-option>
          <mat-option value="harmonica">{{ t("harmonica") }}</mat-option>
          <mat-option value="fiddle">{{ t("fiddle") }}</mat-option>
          <mat-option value="keytar">{{ t("keytar") }}</mat-option>
          <mat-option value="other">{{ t("other") }}</mat-option>
        </mat-select>
      </mat-form-field>
      <br />
      <mat-form-field appearance="fill">
        <mat-label>{{ t("bio") }}</mat-label>
        <textarea
          matInput
          placeholder="{{ t('bioPlaceholder') }}"
          formControlName="bio"
        ></textarea>
      </mat-form-field>
      <br />
      <mat-form-field appearance="fill">
        <mat-label>{{ t("personalMessage") }}</mat-label>
        <textarea
          matInput
          placeholder="{{ t('personalMessagePlaceholder') }}"
          formControlName="endEventMessage"
          matTooltip="{{ t('tooltipMessage') }}"
          matTooltipPosition="below"
          matTooltipClass="custom-tooltip"
          aria-label="A form field that displays a tooltip when focused or hovered over"
        ></textarea>
      </mat-form-field>

      <h2>{{ t("contactInformation") }}</h2>

      <mat-form-field appearance="fill">
        <mat-label>{{ t("email") }}</mat-label>
        <input matInput formControlName="email" />
      </mat-form-field>
      <br />
      <mat-form-field appearance="fill">
        <mat-label>{{ t("phone") }}</mat-label>
        <input matInput formControlName="phone" />
      </mat-form-field>

      <br />

      <div *ngIf="stripeLinkComplete">
        <p class="stripe-font">
          Stripe Account ID: {{ performerService.performer?.stripeId }}
        </p>

        <p>
          <a
            href="https://dashboard.stripe.com/login"
            target="_blank"
            class="stripe-font stripe-dashboard-link"
            >Click here to be redirected to the Stripe dashboard</a
          >
        </p>
      </div>

      <div
        class="centered-flex-box"
        *ngIf="stripeLinkInProgress && !stripeLinkComplete"
      >
        <div class="StripeLinkingSpinner">
          <p class="stripe-font">
            Linking Stripe Account to My Request...
          </p>
          <mat-spinner class="spinner" color="accent"></mat-spinner>
        </div>
      </div>

      <button
        #linkStripeButton
        *ngIf="!stripeLinkInProgress && !stripeLinkComplete"
        mat-button
        class="stripe-button"
        appDebounceClick
        (debounceClick)="triggerStripeOath()"
      >
        Create or link existing stripe account for payments
      </button>
      <p
        class="performer-not-signed-up-with-stripe-prompt"
        *ngIf="!this.performerService.isStripeAccountLinked"
      >
        The performer must link their stripe account under the profile page to
        accept paid requests
      </p>
      <br />
      <p *ngIf="profileForm.invalid" class="error-message">
        {{ t("requiredFormFieldsMessage") }}
      </p>

      <div id="fab-button-wrapper">
        <button
          *ngIf="editProfile === true"
          mat-fab
          color="primary"
          (click)="updatePerformer()"
          [disabled]="profileForm.invalid || !isEdited()"
          type="submit"
          class="extended-fab-button"
        >
          <span class="fab-button-text">{{ t("update") }}</span>
        </button>

        <button
          *ngIf="!performerService.isSignedUp"
          mat-fab
          color="primary"
          (click)="submit()"
          [disabled]="profileForm.invalid"
          type="submit"
          class="extended-fab-button"
        >
          <span class="fab-button-text">{{ t("submit") }}</span>
        </button>
      </div>

      <!-- commented out below code as these properties are not planned
to be implemented at this time
 -->

      <!-- <mat-form-field appearance="fill">
        <mat-label>Social Media Platform</mat-label>
        <mat-select>
            <mat-option value="option">Twitter</mat-option>
            <mat-option value="option">Instagram</mat-option>
            <mat-option value="option">Snapchat</mat-option>
            <mat-option value="option">TikTok</mat-option>
            <mat-option value="option">FaceBook</mat-option>
            <mat-option value="option">YouTube</mat-option>
            <mat-option value="option">WhatsApp</mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Social Media Handle</mat-label>
        <input matInput placeholder="Ex. @PianoManPeter">
		</mat-form-field> -->
    </form>
  </div>
</ng-container>
